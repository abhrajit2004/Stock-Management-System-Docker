{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ABHRAJIT%20GUPTA/OneDrive/Documents/docker-version-of-binarystock/app/api/search/route.js"],"sourcesContent":["import { MongoClient } from \"mongodb\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET(request) {\r\n\r\n    const query = request.nextUrl.searchParams.get(\"query\");\r\n\r\n    // Replace the uri string with your connection string\r\n    const uri = process.env.MONGO_URI;\r\n\r\n    const client = new MongoClient(uri);\r\n\r\n    try {\r\n        const database = client.db('stock');\r\n        const inventory = database.collection('inventory');\r\n\r\n        // Queries for a movie that has a title value of 'Back to the Future'\r\n\r\n        const products = await inventory.aggregate([\r\n            {\r\n                $match: {\r\n                    $or: [\r\n                        { slug: { $regex: query, $options: \"i\" } },\r\n                    ]\r\n                }\r\n            }\r\n        ]).toArray();\r\n\r\n        return NextResponse.json({ success: true, products })\r\n\r\n    } finally {\r\n        await client.close();\r\n    }\r\n\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAO;IAE7B,MAAM,QAAQ,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAE/C,qDAAqD;IACrD,MAAM,MAAM,QAAQ,GAAG,CAAC,SAAS;IAEjC,MAAM,SAAS,IAAI,sHAAW,CAAC;IAE/B,IAAI;QACA,MAAM,WAAW,OAAO,EAAE,CAAC;QAC3B,MAAM,YAAY,SAAS,UAAU,CAAC;QAEtC,qEAAqE;QAErE,MAAM,WAAW,MAAM,UAAU,SAAS,CAAC;YACvC;gBACI,QAAQ;oBACJ,KAAK;wBACD;4BAAE,MAAM;gCAAE,QAAQ;gCAAO,UAAU;4BAAI;wBAAE;qBAC5C;gBACL;YACJ;SACH,EAAE,OAAO;QAEV,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAS;IAEvD,SAAU;QACN,MAAM,OAAO,KAAK;IACtB;AAEJ","debugId":null}}]
}